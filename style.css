/* SUBSTITUA TODO O SEU style.css POR ESTE */

* { box-sizing: border-box; }

:root{
  --bg0:#070a12;
  --bg1:#0b1220;
  --stroke: rgba(255,255,255,.08);
  --text:#e5e7eb;
  --muted:rgba(229,231,235,.65);

  --blue:#6d7cff;
  --green:#22c55e;
  --red:#ef4444;
  --purple:#a855f7;
  --amber:#f59e0b;

  --radius:16px;
  --shadow: 0 18px 40px rgba(0,0,0,.45);

  /* ==========
     Scrollbar (tema do site)
     ========== */
  --sb-track: rgba(15,23,42,.55);
  --sb-track-border: rgba(255,255,255,.08);
  --sb-thumb: rgba(109,124,255,.35);
  --sb-thumb-hover: rgba(109,124,255,.55);
  --sb-thumb-border: rgba(255,255,255,.10);
}

html, body { height: 100%; }

/* Firefox */
html{
  scrollbar-width: thin;
  scrollbar-color: var(--sb-thumb) var(--sb-track);
}

body{
  margin:0;
  font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial;
  color: var(--text);
  background:
    radial-gradient(900px 600px at -10% 10%, rgba(109,124,255,.18), transparent 60%),
    radial-gradient(900px 600px at 110% 15%, rgba(168,85,247,.14), transparent 55%),
    radial-gradient(800px 500px at 50% 110%, rgba(34,197,94,.08), transparent 60%),
    linear-gradient(180deg, var(--bg0), var(--bg1));
}

/* WebKit scrollbar (global) */
::-webkit-scrollbar{
  width: 10px;
  height: 10px;
}

::-webkit-scrollbar-track{
  background: var(--sb-track);
  border: 1px solid var(--sb-track-border);
  border-radius: 999px;
}

::-webkit-scrollbar-thumb{
  background: linear-gradient(
    180deg,
    rgba(109,124,255,.55),
    rgba(168,85,247,.45)
  );
  border-radius: 999px;
  border: 2px solid rgba(15,23,42,.65);
  box-shadow: 0 10px 24px rgba(109,124,255,.12);
}

::-webkit-scrollbar-thumb:hover{
  background: linear-gradient(
    180deg,
    rgba(109,124,255,.75),
    rgba(168,85,247,.65)
  );
  box-shadow: 0 10px 28px rgba(109,124,255,.18);
}

::-webkit-scrollbar-corner{
  background: transparent;
}

/* Opcional: deixa mais “fino” em áreas específicas com scroll (sidebar e tabela) */
.sidebar::-webkit-scrollbar,
.table-wrap::-webkit-scrollbar{
  width: 9px;
  height: 9px;
}

.app{ min-height: 100vh; display:flex; }

/* Sidebar */
.sidebar{
  width: 320px;
  padding: 26px 22px;
  background: linear-gradient(180deg, rgba(10,14,28,.92), rgba(8,10,18,.86));
  border-right: 1px solid var(--stroke);
  position: sticky;
  top: 0;
  height: 100vh;
  overflow: auto;
}

.brand{
  display:flex;
  align-items:center;
  gap:12px;
  padding: 10px 10px 18px;
  margin-bottom: 8px;
}

.brand-icon{
  width:44px; height:44px;
  border-radius: 14px;
  background:
    radial-gradient(circle at 30% 35%, rgba(255,255,255,.35), transparent 40%),
    linear-gradient(145deg, rgba(109,124,255,.95), rgba(168,85,247,.85));
  box-shadow: 0 12px 24px rgba(109,124,255,.18);
}

.brand-title{ font-weight: 800; letter-spacing:.2px; line-height: 1.1; }
.brand-subtitle{ color: var(--muted); font-weight: 650; font-size: 13px; margin-top: 2px; }

.sidebar-section{
  margin-top: 14px;
  padding: 14px 12px;
  border-radius: var(--radius);
  background: rgba(15,23,42,.45);
  border: 1px solid var(--stroke);
}

.section-title{
  font-size: 12px;
  letter-spacing: .08em;
  text-transform: uppercase;
  color: rgba(229,231,235,.65);
  margin-bottom: 10px;
}

/* Fields */
.field{ display:block; margin-bottom: 10px; }
.field-label{
  display:block;
  font-size: 12px;
  color: rgba(229,231,235,.7);
  margin: 0 0 6px;
}

.sidebar input,
.modal-content input{
  width: 100%;
  padding: 12px 12px;
  border-radius: 12px;
  border: 1px solid rgba(255,255,255,.10);
  background: rgba(17,24,39,.70);
  color: var(--text);
  outline: none;
}

.sidebar input:focus,
.modal-content input:focus{
  border-color: rgba(109,124,255,.45);
  box-shadow: 0 0 0 4px rgba(109,124,255,.15);
}

/* Buttons */
.btn-group{ display:flex; flex-direction: column; gap: 10px; margin-top: 8px; }

.btn{
  width: 100%;
  padding: 12px 12px;
  border-radius: 14px;
  border: 1px solid rgba(255,255,255,.10);
  background: rgba(30,41,59,.45);
  color: var(--text);
  font-weight: 800;
  cursor:pointer;
  transition: transform .06s ease, background .2s ease, border-color .2s ease, box-shadow .2s ease;
  display:flex;
  align-items:center;
  gap:10px;
}

.btn:hover{
  border-color: rgba(255,255,255,.18);
  background: rgba(30,41,59,.62);
}

.btn:active{ transform: translateY(1px); }

.btn-dot{
  width: 10px; height: 10px;
  border-radius: 999px;
  background: rgba(255,255,255,.35);
  box-shadow: 0 0 0 4px rgba(255,255,255,.08);
}

.receita{ box-shadow: 0 16px 30px rgba(34,197,94,.12); }
.receita .btn-dot{ background: var(--green); box-shadow: 0 0 0 4px rgba(34,197,94,.18); }

.despesa{ box-shadow: 0 16px 30px rgba(239,68,68,.10); }
.despesa .btn-dot{ background: var(--red); box-shadow: 0 0 0 4px rgba(239,68,68,.16); }

.invest{ box-shadow: 0 16px 30px rgba(168,85,247,.10); }
.invest .btn-dot{ background: var(--purple); box-shadow: 0 0 0 4px rgba(168,85,247,.16); }

.btn-primary{
  background: linear-gradient(145deg, rgba(109,124,255,.95), rgba(168,85,247,.85));
  border-color: rgba(255,255,255,.14);
  box-shadow: 0 18px 34px rgba(109,124,255,.16);
}

/* selecionado */
.btn.is-selected{
  border-color: rgba(255,255,255,.22);
  background: rgba(30,41,59,.75);
}

/* ===== Custom dropdown (Ano/Mês) ===== */
.dd{
  --glow: rgba(109,124,255,.18);
  --ring: rgba(109,124,255,.45);
  --dot: rgba(109,124,255,1);
  position: relative;
}

.dd--blue{
  --glow: rgba(109,124,255,.20);
  --ring: rgba(109,124,255,.55);
  --dot: rgba(109,124,255,1);
}

.dd--purple{
  --glow: rgba(168,85,247,.18);
  --ring: rgba(168,85,247,.50);
  --dot: rgba(168,85,247,1);
}

.dd-btn{
  width: 100%;
  padding: 12px 12px;
  border-radius: 14px;
  border: 1px solid rgba(255,255,255,.10);
  background: rgba(30,41,59,.45);
  color: rgba(229,231,235,.92);
  font-weight: 800;
  cursor:pointer;
  display:flex;
  align-items:center;
  gap:10px;
  transition: background .2s ease, border-color .2s ease, box-shadow .2s ease, transform .06s ease;
  box-shadow: 0 16px 30px var(--glow);
}

.dd-btn:hover{
  border-color: rgba(255,255,255,.18);
  background: rgba(30,41,59,.62);
}

.dd-btn:active{ transform: translateY(1px); }

.dd-dot{
  width: 10px; height: 10px;
  border-radius: 999px;
  background: var(--dot);
  box-shadow: 0 0 0 4px rgba(109,124,255,.18);
}

.dd--purple .dd-dot{
  box-shadow: 0 0 0 4px rgba(168,85,247,.16);
}

.dd-value{
  flex: 1;
  text-align: left;
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
}

.dd-caret{
  width: 10px;
  height: 10px;
  transform: rotate(45deg);
  border-right: 2px solid rgba(229,231,235,.55);
  border-bottom: 2px solid rgba(229,231,235,.55);
  opacity: .9;
}

.dd.is-open .dd-btn{
  box-shadow: 0 16px 30px var(--glow), 0 0 0 4px var(--ring);
  border-color: rgba(255,255,255,.16);
}

.dd-menu{
  position: absolute;
  left: 0;
  right: 0;
  top: calc(100% + 10px);
  z-index: 50;
  display: none;

  background: rgba(15,23,42,.92);
  border: 1px solid rgba(255,255,255,.10);
  border-radius: 14px;
  box-shadow: 0 28px 70px rgba(0,0,0,.55);
  backdrop-filter: blur(10px);

  overflow: hidden;
  max-height: 240px;
}

.dd.is-open .dd-menu{ display: block; }

.dd-item{
  padding: 10px 12px;
  display:flex;
  align-items:center;
  gap:10px;
  cursor:pointer;
  color: rgba(229,231,235,.84);
  border-bottom: 1px solid rgba(255,255,255,.06);
}

.dd-item:last-child{ border-bottom: 0; }
.dd-item:hover{ background: rgba(17,24,39,.55); }

.dd-item.is-active{
  background: rgba(109,124,255,.14);
  color: rgba(229,231,235,.95);
}

.dd--purple .dd-item.is-active{ background: rgba(168,85,247,.14); }

.dd-item .mini-dot{
  width: 8px;
  height: 8px;
  border-radius: 999px;
  background: rgba(229,231,235,.30);
  box-shadow: 0 0 0 4px rgba(255,255,255,.08);
}

.dd--blue .dd-item.is-active .mini-dot{
  background: rgba(109,124,255,1);
  box-shadow: 0 0 0 4px rgba(109,124,255,.18);
}

.dd--purple .dd-item.is-active .mini-dot{
  background: rgba(168,85,247,1);
  box-shadow: 0 0 0 4px rgba(168,85,247,.16);
}

.filter-actions{
  display:flex;
  justify-content:flex-end;
  margin-top: 8px;
}

.mini-btn{
  padding: 8px 10px;
  border-radius: 12px;
  border: 1px solid rgba(255,255,255,.10);
  background: rgba(17,24,39,.35);
  color: rgba(229,231,235,.80);
  cursor:pointer;
  font-weight: 800;
}

.mini-btn:hover{
  background: rgba(17,24,39,.55);
  border-color: rgba(255,255,255,.16);
}

.sidebar-hint{
  margin: 10px 2px 0;
  color: rgba(229,231,235,.50);
  font-size: 12px;
  line-height: 1.35;
}

/* Invest fields */
.invest-fields[hidden]{ display:none; }

.field-row{
  display: grid;
  grid-template-columns: 1fr 1fr;
  gap: 10px;
}

.total-preview{
  display:flex;
  align-items:center;
  justify-content: space-between;
  padding: 10px 12px;
  border-radius: 14px;
  border: 1px solid rgba(255,255,255,.10);
  background: rgba(17,24,39,.35);
  margin-top: 6px;
}

.total-preview span{
  color: rgba(229,231,235,.65);
  font-size: 12px;
  letter-spacing: .02em;
}

.total-preview strong{
  font-size: 14px;
  color: rgba(229,231,235,.92);
}

/* Main */
.main{ flex: 1; padding: 28px 28px 40px; }
.topbar{ margin-bottom: 18px; }

.page-title{ margin: 0; font-size: 26px; letter-spacing: .2px; }
.page-subtitle{ margin: 8px 0 0; color: rgba(229,231,235,.58); font-size: 13px; }

/* Cards */
.card{
  background: rgba(15,23,42,.62);
  border: 1px solid var(--stroke);
  border-radius: var(--radius);
  box-shadow: var(--shadow);
  backdrop-filter: blur(10px);
}

.card-head{
  display:flex;
  align-items:center;
  justify-content: space-between;
  gap: 12px;
  padding: 14px 16px 8px;
}

.card-title{ margin: 0; font-size: 14px; color: rgba(229,231,235,.92); }
.card-actions{ display:flex; gap: 8px; flex-wrap: wrap; }

.chip{
  font-size: 11px;
  padding: 6px 10px;
  border-radius: 999px;
  border: 1px solid rgba(255,255,255,.10);
  background: rgba(17,24,39,.45);
  color: rgba(229,231,235,.80);
}
.chip--muted{ color: rgba(229,231,235,.55); }

/* KPI grid */
.kpi-grid{
  display:grid;
  grid-template-columns: repeat(12, 1fr);
  gap: 14px;
  margin: 14px 0 18px;
}

.kpi{
  grid-column: span 3;
  padding: 14px 16px 16px;
  position: relative;
  overflow: hidden;
}

.kpi-head{ display:flex; align-items:center; justify-content: space-between; gap: 10px; }
.kpi-label{ color: rgba(229,231,235,.68); font-size: 12px; }
.kpi-value{ margin: 10px 0 0; font-size: 22px; letter-spacing: .2px; }

.kpi-badge{
  font-size: 11px;
  padding: 6px 10px;
  border-radius: 999px;
  border: 1px solid rgba(255,255,255,.10);
  background: rgba(17,24,39,.35);
}
.kpi-badge--blue{ border-color: rgba(109,124,255,.28); color: rgba(187,196,255,.92); }
.kpi-badge--green{ border-color: rgba(34,197,94,.25); color: rgba(165,245,197,.92); }
.kpi-badge--red{ border-color: rgba(239,68,68,.23); color: rgba(255,190,190,.92); }
.kpi-badge--purple{ border-color: rgba(168,85,247,.23); color: rgba(229,199,255,.92); }

.kpi-spark{
  position:absolute;
  right: -10px;
  bottom: -14px;
  width: 140px;
  height: 70px;
  border-radius: 18px;
  background: linear-gradient(180deg, rgba(109,124,255,.75), rgba(109,124,255,.02));
  transform: rotate(-6deg);
  opacity: .9;
}
.kpi-spark--green{ background: linear-gradient(180deg, rgba(34,197,94,.70), rgba(34,197,94,.02)); }
.kpi-spark--red{ background: linear-gradient(180deg, rgba(239,68,68,.65), rgba(239,68,68,.02)); }
.kpi-spark--purple{ background: linear-gradient(180deg, rgba(168,85,247,.65), rgba(168,85,247,.02)); }

/* Charts grid */
.grid{
  display:grid;
  grid-template-columns: repeat(12, 1fr);
  gap: 14px;
  margin-bottom: 14px;
}

.span-7{ grid-column: span 7; }
.span-5{ grid-column: span 5; }

.chart-card{ overflow:hidden; }
.chart-wrap{ padding: 8px 14px 14px; }
canvas{ width:100% !important; height: 280px !important; }

/* Table */
.table-card{ padding: 0 0 10px; }
.table-wrap{ padding: 0 12px 10px; overflow:auto; }
table{ width:100%; border-collapse: collapse; min-width: 680px; }

thead th{
  font-size: 12px;
  text-transform: uppercase;
  letter-spacing: .08em;
  color: rgba(229,231,235,.58);
  padding: 12px 10px;
  border-bottom: 1px solid rgba(255,255,255,.08);
}

tbody td{
  padding: 12px 10px;
  border-bottom: 1px solid rgba(255,255,255,.06);
  color: rgba(229,231,235,.86);
}

tbody tr:hover{ background: rgba(17,24,39,.35); }
.th-actions{ width: 180px; }

.action-btn{
  padding: 8px 10px;
  border-radius: 12px;
  border: 1px solid rgba(255,255,255,.10);
  cursor: pointer;
  margin-right: 8px;
  background: rgba(17,24,39,.35);
  color: rgba(229,231,235,.85);
  font-weight: 800;
}
.action-btn:hover{ border-color: rgba(255,255,255,.16); background: rgba(17,24,39,.55); }

/* Modal */
.modal{
  position: fixed;
  inset: 0;
  background: rgba(0,0,0,.65);
  display:none;
  justify-content:center;
  align-items:center;
  padding: 18px;
}

.modal-content{
  width: min(420px, 92vw);
  background: rgba(15,23,42,.82);
  border: 1px solid rgba(255,255,255,.10);
  box-shadow: 0 28px 70px rgba(0,0,0,.55);
  border-radius: 18px;
  padding: 16px;
  backdrop-filter: blur(10px);
}

.modal-head{
  display:flex;
  align-items:center;
  justify-content: space-between;
  gap: 10px;
  margin-bottom: 10px;
}

.icon-btn{
  width: 36px;
  height: 36px;
  border-radius: 12px;
  border: 1px solid rgba(255,255,255,.10);
  background: rgba(17,24,39,.35);
  color: rgba(229,231,235,.85);
  cursor:pointer;
}

.icon-btn:hover{ background: rgba(17,24,39,.55); }

/* Responsive */
@media (max-width: 1100px){
  .sidebar{ width: 300px; }
  .span-7{ grid-column: span 12; }
  .span-5{ grid-column: span 12; }
  canvas{ height: 260px !important; }
}

@media (max-width: 900px){
  .app{ flex-direction: column; }
  .sidebar{ position: relative; width: 100%; height: auto; }
  .main{ padding: 18px; }
  .kpi{ grid-column: span 6; }
}

@media (max-width: 520px){
  .kpi{ grid-column: span 12; }
  table{ min-width: 620px; }
}
/* ...todo o seu CSS acima... */

/* Responsive (blocos antigos) */
@media (max-width: 1100px){
  /* ... */
}

@media (max-width: 900px){
  /* ... */
}

@media (max-width: 520px){
  /* ... */
}

/* ✅ COLE AQUI (no final do arquivo) */
@media (max-width: 900px){
  /* ...bloco novo... */
}

@media (max-width: 520px){
  /* ...bloco novo... */
}
/* ==========
   Mobile priority layout:
   1) Dashboard Financeiro (topbar + KPIs + gráficos)
   2) Período
   3) Adicionar lançamento
   4) Lançamentos (tabela)
   ==========
   Sem alterar HTML: no mobile, vamos transformar .app em grid
   e posicionar a tabela fora do fluxo visual (grid-row 4),
   mantendo a tabela por último.
*/
@media (max-width: 900px){
  /* Overwrite do seu flex mobile para grid (mais controle) */
  .app{
    display: grid !important;
    grid-template-columns: 1fr !important;
    grid-template-rows: auto auto auto auto !important;
    gap: 14px !important;
  }

  /* “Blocos” principais */
  .main{
    order: initial !important;
    grid-row: 1 !important;
    padding: 18px !important;
  }

  .sidebar{
    order: initial !important;
    grid-row: 2 / span 2 !important; /* vai conter Período + Adicionar (vamos reordenar dentro) */
    position: relative !important;
    top: auto !important;
    height: auto !important;
    width: 100% !important;
    overflow: visible !important;
    padding: 18px !important;
  }

  /* A tabela precisa ir para o final. Como ela está dentro do main,
     reordenamos as seções internas do main com flex. */
  .main{
    display: flex !important;
    flex-direction: column !important;
    gap: 14px !important;
  }

  /* Dentro do main:
     topbar (1), kpi-grid (2), grid charts (3), table-card (4) */
  .topbar{ order: 1 !important; }
  .kpi-grid{ order: 2 !important; }
  .grid[aria-label="Gráficos"]{ order: 3 !important; }
  .table-card{ order: 4 !important; }

  /* Dentro da sidebar: queremos Período primeiro e Adicionar depois */
  .sidebar{
    display: flex !important;
    flex-direction: column !important;
    gap: 14px !important;
  }

  .sidebar > .brand{ order: 0 !important; }

  /* 1ª sidebar-section = Adicionar lançamento (vai para depois) */
  .sidebar > .sidebar-section:nth-of-type(1){ order: 2 !important; }

  /* 2ª sidebar-section = Período (vai para antes) */
  .sidebar > .sidebar-section:nth-of-type(2){ order: 1 !important; }
}
